
#Mohammad Saidur Rahman
#Email: Saidur.Rahman@mail.rit.edu
#https://github.com/msrocean/PenTestTools

from bs4 import BeautifulSoup
from urllib import urlopen

base_url = raw_input("Enter the site you want to check with http or https\n example : http://www.example.com \n")
#base_url = "http://localhost:8080"
broken_links =[]
try:
    page = urlopen(base_url).read()
    soup = BeautifulSoup(page,"lxml")
    links = soup.findAll("a")
    print("Working Links: \n")
    for link in links:
        #print(link.get("href"))
        side_link = link.get("href")
        #print(side_link)
        if(":" not in side_link):
            destination_link = base_url +" / "+ side_link
        else:
            destination_link = side_link
        try:
            checker = urlopen(destination_link).read()
            print(destination_link)
        except Exception as invalid :
            broken_links.append(destination_link)
    print("***************************************************\n")
    print("Broken Links:\n")
    for ev in broken_links:
        print(ev)
except Exception as e:
    print("Please check the url error : {}".format(e))
